J’ai fait ce script getprice.sh qui récupère des prix d’hôtels et les écrits dans un csv (voir outputprice.csv). Je veux que tu le transforme pour qu’il écrive chaque run dans une base de donnée sqllite locale et qu’ensuite il me génère une page de rapport html datée avec pour chaque jour du run les derniers prix des nuits d’hotels et la moyenne des prix, ainsi que l’augmentation depuis les derniers runs (il tournera tous les 3 jours) (sur les Z derniers runs - Z = 3 par défaut). Si les prix spikent (+xx% sur un des 2 ou 3 dernier run) ou si +yy% par rapport à la moyenne des 5 jours précédents , tu me mets la ligne en couleur. Je voudrais 3 niveaux de spike : low, médium et high. Je suis pas encore certain des règles de spikes, si tu as de meilleures suggestions que celle que je t’ai proposé, mets les en place.
Je veux un fichier de config pour la liste des hôtels à récupérer et indiquer les règles de spikes pour les 3 niveaux. Met par défaut 10, 20, 30% pour low, médium, high. mets aussi en config les dates de début et de fin du run du fichier. Aussi si tu pouvais paralléliser les calls pour chaque hôtel en parallèle ca serait bien pour que ca tourne plus vite. A partir des données de outputprice.csv, je veux que tu me génères un fake jeux de données comme si j’avais fait 3 runs d’intervalles et crée des prix qui font des spikes.